# notes

## Команда для запуска
`docker compose up`

## **Сервис учетных данных**
`http://localhost:8000`

Для регистрации пользователя достаточно указать имя пользователя и пароль. Имя пользователя должно быть уникальным и должно содержать только буквы латиницы.

- `POST /register` - Регистрация нового пользователя с указанием имени и пароля.
- `POST /login` - Аутентификация по имени и паролю, возвращающая токен для подписи запросов требующих аутентификации пользователя.
- `GET /me` - Чтение информации об аутентифицированном пользователе. Возвращает имя пользователя, его ID, дату регистрации и дату последней установки пароля.
- `PATCH /me` - Смена имени аутентифицированного пользователя.
- `PATCH /me/password` - Смена пароля аутентифицированного пользователя.

При обновлении пароля, нужно с помощью триггера СУБД обновлять дату смены пароля.

## **Сервис публичных заметок**
`http://localhost:8001`

Заметки представляют из себя объекты следующей структуры: ID, дата и время создания, ID автора заметки, текст заметки, и булевый статус ее публичности.

- `GET /notes` - Список всех публичных заметок. Аутентификация не требуется, но при ее наличии список дополняется еще и не публичными заметками, принадлежащими пользователю.
- `POST /notes` - Создание новой заметки. Требуется аутентификация.
- `GET /notes/{ID}` - Чтение заметки по ее ID. Требуется аутентификация, только если заметка публичная, иначе возвращается 403 ответ.
- `PATCH /notes/{ID}` - Обновление заметки. Требуется аутентификация. Для обновления доступны текст и статус публичности. При попытке обновить чужую заметку – возвращается 403.
- `DELETE /notes/{ID}` - Удаление заметки. При попытке удалить чужую - возвращается 403.